# DIM Service - Production Dependencies (Optimized ML Stack)

# Core web framework
fastapi
uvicorn[standard]

# HTTP clients and database
httpx
asyncpg
psycopg2-binary

# Data validation and settings
pydantic>=1.10
pydantic_settings

# Metrics and monitoring
prometheus-client
psutil

# Async utilities
aiohttp

# Template and auth
jinja2
PyJWT
cryptography

# Retry logic and testing
backoff
pytest
pytest-asyncio

# Security and middleware
redis[hiredis]
starlette

# Utilities
python-dotenv

# PRODUCTION ML STACK (Optimized - No PyTorch!)
# ================================================================

# Tier 2: LayoutLM ONNX (Lightweight ML)
onnxruntime>=1.15.0              # 150MB vs 2.5GB PyTorch
transformers>=4.20.0,<5.0.0     # For tokenizer only, not full ML models
numpy>=1.21.0                    # Already efficient

# Tier 3: Azure Form Recognizer (Cloud ML)
azure-ai-formrecognizer>=3.3.0
azure-core>=1.26.0
azure-identity>=1.12.0

# Text processing and regex (Tier 1)
regex>=2022.7.0                 # For advanced pattern matching

# Optional: Document processing utilities
# Pillow>=9.0.0                 # For image processing if needed
# pypdf>=3.0.0                  # For PDF text extraction if needed

# NOTE: We specifically AVOID:
# - torch (2.5GB) - replaced with onnxruntime (150MB)  
# - torchvision (500MB) - not needed
# - torchaudio (200MB) - not needed
# - Any other heavy ML frameworks

# Model Management
huggingface_hub>=0.15.0          # For downloading tokenizers only